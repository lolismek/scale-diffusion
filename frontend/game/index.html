<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Block Builder</title>
</head>
<body>
  <div id="sidebar">
    <h2>Scenarios</h2>
    <div class="section">
      <select id="scenarioSelect">
        <option value="">-- Select Scenario --</option>
      </select>
      <div id="scenarioDesc" class="scenario-desc">Select a scenario to begin</div>
      <button class="btn-scenario" id="scenarioStartBtn">Start Scenario</button>
      <div id="scenarioControls" class="scenario-controls">
        <div class="scenario-info">
          <div class="scenario-stat">
            <span class="label">Time</span>
            <span id="scenarioTimer" class="value">--:--</span>
          </div>
          <div class="scenario-stat">
            <span class="label">Collisions</span>
            <span id="scenarioCollisions" class="value">0</span>
          </div>
        </div>
        <div id="scenarioStatus" class="scenario-status">No active scenario</div>
        <div class="scenario-buttons">
          <button class="btn-small" id="scenarioPauseBtn">Pause</button>
          <button class="btn-small" id="scenarioRestartBtn">Restart</button>
          <button class="btn-small btn-stop" id="scenarioStopBtn">Stop</button>
        </div>
      </div>
    </div>

    <button id="modeBtn">Mode: Explore</button>
    <button id="driveBtn">Car Mode</button>

    <div id="creativeSpeedSection" class="section">
      <label>Fly Speed <span id="creativeSpeedVal">0.10</span></label>
      <input type="range" id="creativeSpeed" min="0.02" max="0.5" step="0.02" value="0.1">
    </div>

    <h2>Map Settings</h2>
    <div class="section">
      <label>Width <input type="number" id="mapWidth" value="100" min="10" max="500"></label>
      <label>Depth <input type="number" id="mapDepth" value="100" min="10" max="500"></label>
      <label>Color <input type="color" id="mapColor" value="#333333"></label>
      <label>Sky <input type="color" id="skyColor" value="#000000"></label>
    </div>

    <h2>Block Defaults</h2>
    <div class="section">
      <label>Width <input type="number" id="defWidth" value="5" min="0.5" step="0.5"></label>
      <label>Height <input type="number" id="defHeight" value="8" min="0.5" step="0.5"></label>
      <label>Depth <input type="number" id="defDepth" value="5" min="0.5" step="0.5"></label>
      <label>Color <input type="color" id="defColor" value="#888888"></label>
    </div>

    <div id="selectedSection">
      <h2>Selected Block</h2>
      <div class="section">
        <label>X <input type="number" id="selX" step="0.5"></label>
        <label>Z <input type="number" id="selZ" step="0.5"></label>
        <label>Width <input type="number" id="selW" min="0.5" step="0.5"></label>
        <label>Height <input type="number" id="selH" min="0.5" step="0.5"></label>
        <label>Depth <input type="number" id="selD" min="0.5" step="0.5"></label>
        <label>Color <input type="color" id="selColor"></label>
        <button class="btn-delete" id="deleteBtn">Delete Block</button>
      </div>
    </div>

    <h2>Blocks</h2>
    <div class="block-count" id="blockCount">0 blocks</div>
    <ul id="blockList"></ul>

    <h2>Import / Export</h2>
    <div class="section">
      <button class="btn-export" id="exportBtn">Export JSON</button>
      <button class="btn-import" id="importBtn" style="margin-top:4px">Import JSON</button>
      <input type="file" id="importFile" accept=".json" style="display:none">
    </div>

    <h2>AI Texture</h2>
    <div class="section">
      <label>API Key<input type="password" id="decartApiKey" placeholder="Decart API key"></label>
      <label>Style Prompt<input type="text" id="aiPrompt" value="New York City realistic buildings, streets, and urban texture"></label>
      <button class="btn-ai" id="aiToggleBtn">Enable AI Texture</button>
      <div class="ai-status" id="aiStatus">Disconnected</div>
    </div>
  </div>

  <div id="canvasContainer">
    <div id="modeIndicator">Explore Mode â€” Click to look around</div>
    <div id="scenarioHUD" class="scenario-hud">
      <div class="hud-timer" id="hudTimer">--:--</div>
      <div class="hud-status" id="hudStatus"></div>
    </div>
    <video id="aiVideo" autoplay playsinline muted></video>
    <div id="coordsOverlay"></div>
  </div>

  <script type="module" src="/src/main.ts"></script>
</body>
</html>
